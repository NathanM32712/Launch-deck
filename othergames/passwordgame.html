<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>password game</title>
  <link rel="icon" type="image/png" href="../icon.png" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --bg:#0f1113; --panel:#151718; --muted:#d7e0e2; --accent:#00d7d7; --good:#0f6; --select:#2a6b6b;
    }
    html,body{height:100%;margin:0;background:var(--bg);color:var(--muted);font-family:Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    header{display:flex;align-items:center;padding:12px 16px;background:#0c0d0e;border-bottom:1px solid rgba(255,255,255,0.03)}
    header img{height:34px;cursor:pointer}
    header h1{margin:0 auto;font-size:1.15rem;color:var(--accent)}
    .wrap{max-width:980px;margin:28px auto;padding:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border-radius:10px}
    .top-row{display:flex;gap:12px;align-items:center;margin-bottom:12px}
    #password{flex:1;padding:12px 14px;font-size:1.05rem;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:var(--panel);color:var(--muted);outline:none}
    .status{min-width:260px;text-align:right;font-size:0.95rem}
    .controls{display:flex;gap:8px;align-items:center;margin-top:10px}
    button{background:var(--accent);border:none;color:#001;padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:600}
    .rules{list-style:none;padding:10px;margin:18px 0 0 0;display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;max-height:420px;overflow:auto}
    .rules li{background:var(--panel);padding:10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);font-size:0.95rem;transition:opacity .18s,transform .18s}
    .rules li.hidden{opacity:0;transform:translateY(-6px);display:none}
    .rules li.selected{outline:2px solid var(--select);box-shadow:0 4px 18px rgba(42,107,107,0.12);background:linear-gradient(180deg, rgba(42,107,107,0.06), transparent)}
    .complete{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:22px;border-radius:10px;color:var(--good);font-weight:700}
    .small{font-size:0.86rem;color:rgba(215,224,226,0.6)}
    @media (max-width:820px){.rules{grid-template-columns:1fr}.status{text-align:left}}
  </style>
</head>
<body>
  <header>
    <a href="../Launch-Deck"><img src="../icon.png" alt="icon"></a>
    <h1>password game</h1>
  </header>

  <main class="wrap" role="main">
    <div class="top-row">
      <input id="password" type="text" placeholder="Type your password — each rule hides as soon as it is satisfied" autocomplete="off" />
      <div class="status" aria-live="polite">
        <div id="counter">Rules remaining: <strong id="remaining">100</strong></div>
        <div class="small" id="note">Rules hide individually as you satisfy them; they reappear if broken.</div>
      </div>
    </div>

    <div class="controls">
      <button id="useFreebie">Use freebie</button>
      <div class="small" id="freebieStatus">Freebie available</div>
    </div>

    <div id="content">
      <ul class="rules" id="rules"></ul>
    </div>
  </main>

  <script>
    (function(){
      const input = document.getElementById('password');
      const rulesList = document.getElementById('rules');
      const remainingEl = document.getElementById('remaining');
      const useFreebieBtn = document.getElementById('useFreebie');
      const freebieStatus = document.getElementById('freebieStatus');

      function pad2(n){ return String(n).padStart(2,'0'); }
      function currentHHMM(){ const d=new Date(); return `${pad2(d.getHours())}:${pad2(d.getMinutes())}`; }
      function currentDayName(){ return ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'][new Date().getDay()]; }
      function currentYear(){ return String(new Date().getFullYear()); }
      function extractIntegers(s){ const m=s.match(/\d+/g); return m?m.map(x=>parseInt(x,10)):[]; }
      function isPrime(n){ if(n<=1) return false; if(n<=3) return true; if(n%2===0) return false; for(let i=3;i*i<=n;i+=2) if(n%i===0) return false; return true; }
      const emojiRegex = /[\u231A-\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD-\u25FE\u2600-\u27BF\u2934-\u2935\u2B05-\u2B07\u2B1B-\u2B1C\u2B50\u2B55\u1F000-\u1F6FF\u1F900-\u1F9FF]/u;

      // small datasets
      const countries=["United States","USA","Canada","France","Germany","China","Japan","Brazil","India","Australia"];
      const animals=["dog","cat","lion","tiger","bear","wolf","fox","elephant"];
      const planets=["Mercury","Venus","Earth","Mars","Jupiter","Saturn","Uranus","Neptune","Pluto"];
      const pokemon=["Pikachu","Charmander","Bulbasaur","Squirtle","Eevee"];
      const presidents=["Washington","Lincoln","Roosevelt","Kennedy","Obama","Trump","Biden"];
      const zodiacs=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"];
      const paintings=["Mona Lisa","Starry Night","The Scream","Guernica"];
      const greek=["alpha","beta","gamma","delta","pi","phi"];
      const constellations=["Orion","Lyra","Cassiopeia","Ursa Major"];
      const shakespeare=["Hamlet","Macbeth","Othello","King Lear"];
      const capitals=["Paris","London","Tokyo","Berlin","Rome","Ottawa"];
      const fruits=["apple","banana","orange","grape","pear"];
      const dinosaurs=["T-Rex","Velociraptor","Triceratops","Stegosaurus"];
      const scientists=["Einstein","Newton","Curie","Darwin","Tesla"];
      const hpSpells=["Lumos","Expelliarmus","Expecto Patronum"];
      const programmingKeywords=["if","else","while","return","function","class","for"];
      const elementSymbols=["H","He","Li","C","O","N","Fe","Au","Ag"];
      const chessPattern = /\b([KQRBN]?[a-h][1-8]|O-O-O|O-O)\b/;
      const romanPattern = /\bM{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})\b/;
      const bibleRefPattern = /\b([A-Za-z]+)\s+\d{1,3}:\d{1,3}\b/;
      const musicalNotePattern = /\b([A-G])(#|b)?\b/;
      const currencyPattern = /[\$\€\£\¥]/;
      const mathConstantsPattern = /\b(pi|π|e|phi|φ|tau)\b/i;

      // labels (100)
      const labels = [
        "Password must be at least 5 characters.",
        "Must include a digit.",
        "Must include an uppercase letter.",
        "Must include a special character.",
        "Digits must add up to exactly 25.",
        "Include a month name.",
        "Include a Roman numeral.",
        "Include the current year.",
        "Include the current day of the week.",
        "Include the current time (HH:MM).",
        "Include a country name.",
        "Include an animal name.",
        "Include an emoji.",
        "Include a planet name.",
        "Include a prime number.",
        "Include a chess move.",
        "Include a chemical element symbol.",
        "Include a Bible-style verse (e.g., John 3:16).",
        "Include a Pokémon name.",
        "Include a US president’s last name.",
        "Include a zodiac sign.",
        "Include a famous painting title.",
        "Include a Greek letter name.",
        "Include a constellation name.",
        "Include a math constant (pi/π/e/phi).",
        "Include a programming keyword.",
        "Include a musical note (A–G).",
        "Include a Shakespeare play title.",
        "Include a currency symbol.",
        "Include a capital city.",
        "Include a fruit name.",
        "Include a dinosaur name.",
        "Include a famous scientist’s last name.",
        "Include a Harry Potter spell.",
        "Include the trivia answer 42.",
        "Include a color name.",
        "Include a US state.",
        "Include a sport.",
        "Include a popular movie title.",
        "Include a URL-like pattern (http:// or https://).",
        "Include an email-like pattern (name@domain).",
        "Include a hex color code (#RRGGBB).",
        "Include a binary sequence (e.g., 1010).",
        "Include at least three vowels.",
        "Include a known palindrome (level, kayak).",
        "Include a doubled letter (e.g., tt).",
        "Include 123 or 321.",
        "Include any weekday name.",
        "Include a timezone abbreviation (CST/EST/PST).",
        "Include a cardinal direction (North/South/East/West).",
        "Include a measurement unit (cm/kg/m/s).",
        "Include a programming language name.",
        "Include a file extension (.html/.css/.js).",
        "Include an HTML tag-like string (<div>).",
        "Include parentheses ().",
        "Include a quotation mark (' or \").",
        "Include a math operator (+ - * /).",
        "Include an underscore _.",
        "Include a tilde ~.",
        "Include a backslash \\.",
        "Include an at sign @.",
        "Include two different currency symbols.",
        "Include a number word (one–ten).",
        "Include a season name.",
        "Include a weather word.",
        "Include a musical instrument.",
        "Include a board game name.",
        "Include a video game franchise.",
        "Include a flower name.",
        "Include a tree name.",
        "Include a bird name.",
        "Include an insect name.",
        "Include a car brand.",
        "Include a tech brand.",
        "Include a social network name.",
        "Include a software framework.",
        "Include a cloud provider.",
        "Include an HTTP status code.",
        "Include a MIME type.",
        "Include an RFC-like string (RFC 2616).",
        "Include an IPv4-like pattern (1.1.1.1).",
        "Include a semicolon ; or colon :.",
        "Include an equals sign =.",
        "Include curly braces {}.",
        "Include square brackets [].",
        "Include angle brackets <>.",
        "Include a heart emoji (❤️).",
        "Include a Greek symbol (π/φ).",
        "Include >= or <=.",
        "Include a percentage %.",
        "Include a caret ^.",
        "Include a backtick `.",
        "Include the word level.",
        "Include a famous album (Thriller).",
        "Include a famous artist (Beyonce).",
        "Include a coffee word (espresso).",
        "Include a tea word (oolong).",
        "Include a cheese word (cheddar).",
        "Include a TLD (.us/.uk/.jp/etc.).",
        "Include the phrase Launch Deck."
      ];

      // create 100 rule elements
      const ruleIds = [];
      for(let i=0;i<100;i++){
        const id = 'rule'+(i+1);
        ruleIds.push(id);
        const li = document.createElement('li');
        li.id = id;
        li.textContent = `Rule ${i+1}: ${labels[i] || labels[labels.length-1]}`;
        rulesList.appendChild(li);
      }

      // checks for first 35 meaningful rules; remaining rules use a permissive fallback
      const checks = {
        rule1: pwd => pwd.length >= 5,
        rule2: pwd => /\d/.test(pwd),
        rule3: pwd => /[A-Z]/.test(pwd),
        rule4: pwd => /[^A-Za-z0-9\s]/.test(pwd),
        rule5: pwd => { const d=[...pwd].filter(c=>/\d/.test(c)).map(Number); return d.length>0 && d.reduce((a,b)=>a+b,0)===25; },
        rule6: pwd => /\b(January|February|March|April|May|June|July|August|September|October|November|December)\b/i.test(pwd),
        rule7: pwd => romanPattern.test(pwd),
        rule8: pwd => new RegExp('\\b'+currentYear()+'\\b').test(pwd),
        rule9: pwd => new RegExp('\\b'+currentDayName()+'\\b','i').test(pwd),
        rule10: pwd => new RegExp('\\b'+currentHHMM()+'\\b').test(pwd),
        rule11: pwd => countries.some(c=>new RegExp('\\b'+c.replace(/\s+/g,'\\s+')+'\\b','i').test(pwd)),
        rule12: pwd => animals.some(a=>new RegExp('\\b'+a+'\\b','i').test(pwd)),
        rule13: pwd => emojiRegex.test(pwd),
        rule14: pwd => planets.some(p=>new RegExp('\\b'+p+'\\b','i').test(pwd)),
        rule15: pwd => extractIntegers(pwd).some(n=>isPrime(n)),
        rule16: pwd => chessPattern.test(pwd),
        rule17: pwd => elementSymbols.some(s=>new RegExp('\\b'+s+'\\b').test(pwd)),
        rule18: pwd => bibleRefPattern.test(pwd),
        rule19: pwd => pokemon.some(p=>new RegExp('\\b'+p+'\\b','i').test(pwd)),
        rule20: pwd => presidents.some(p=>new RegExp('\\b'+p+'\\b','i').test(pwd)),
        rule21: pwd => zodiacs.some(z=>new RegExp('\\b'+z+'\\b','i').test(pwd)),
        rule22: pwd => paintings.some(p=>new RegExp(p.replace(/\s+/g,'\\s+'),'i').test(pwd)),
        rule23: pwd => new RegExp('\\b('+greek.join('|')+')\\b','i').test(pwd),
        rule24: pwd => constellations.some(c=>new RegExp('\\b'+c+'\\b','i').test(pwd)),
        rule25: pwd => mathConstantsPattern.test(pwd),
        rule26: pwd => programmingKeywords.some(k=>new RegExp('\\b'+k+'\\b').test(pwd)),
        rule27: pwd => musicalNotePattern.test(pwd),
        rule28: pwd => shakespeare.some(s=>new RegExp(s.replace(/\s+/g,'\\s+'),'i').test(pwd)),
        rule29: pwd => currencyPattern.test(pwd),
        rule30: pwd => capitals.some(c=>new RegExp('\\b'+c+'\\b','i').test(pwd)),
        rule31: pwd => fruits.some(f=>new RegExp('\\b'+f+'\\b','i').test(pwd)),
        rule32: pwd => dinosaurs.some(d=>new RegExp(d.replace(/\-/g,'[- ]?'),'i').test(pwd)),
        rule33: pwd => scientists.some(s=>new RegExp('\\b'+s+'\\b','i').test(pwd)),
        rule34: pwd => hpSpells.some(s=>new RegExp('\\b'+s.replace(/\s+/g,'\\s+')+'\\b','i').test(pwd)),
        rule35: pwd => /\b42\b/.test(pwd)
      };
      // fallback: remaining rules always pass (so they can be hidden if you want them to be trivial)
      ruleIds.forEach(id => { if(!checks[id]) checks[id] = pwd => true; });

      // state
      const state = {};
      ruleIds.forEach(id => state[id] = 'visible');

      // freebie
      let freebieUsed = false;
      let selectedRule = null;

      function updateCounter(){
        const remaining = ruleIds.filter(id => state[id] === 'visible').length;
        remainingEl.textContent = remaining;
      }

      // On each input: hide any rule that is currently satisfied (immediately), show any that becomes unsatisfied (immediately)
      function handleInput(){
        const pwd = input.value;
        ruleIds.forEach(id => {
          const li = document.getElementById(id);
          if(!li) return;
          // permanently hidden by freebie stays hidden
          if(li.dataset.hiddenBy === 'freebie') return;
          let passes = false;
          try{ passes = !!checks[id](pwd); } catch(e){ passes = false; }
          if(passes && state[id] === 'visible'){
            li.classList.add('hidden');
            state[id] = 'hidden';
          } else if(!passes && state[id] === 'hidden'){
            li.classList.remove('hidden');
            state[id] = 'visible';
          }
        });
        updateCounter();
      }

      // freebie selection handling
      function clearSelection(){
        ruleIds.forEach(id => { const li=document.getElementById(id); if(li) li.classList.remove('selected'); });
      }

      rulesList.addEventListener('click', e => {
        const li = e.target.closest('li');
        if(!li) return;
        const id = li.id;
        if(freebieUsed) return;
        if(state[id] !== 'visible') return;
        if(selectedRule === id){ selectedRule = null; li.classList.remove('selected'); }
        else { selectedRule = id; clearSelection(); li.classList.add('selected'); }
        updateFreebieUI();
      });

      function updateFreebieUI(){
        if(freebieUsed){ useFreebieBtn.disabled = true; freebieStatus.textContent = 'Freebie used'; }
        else { useFreebieBtn.disabled = !selectedRule; freebieStatus.textContent = selectedRule ? 'Freebie ready' : 'Freebie available'; }
      }

      useFreebieBtn.addEventListener('click', () => {
        if(freebieUsed || !selectedRule) return;
        const id = selectedRule;
        const li = document.getElementById(id);
        if(!li) return;
        li.classList.add('hidden');
        li.dataset.hiddenBy = 'freebie';
        state[id] = 'hidden';
        freebieUsed = true;
        selectedRule = null;
        clearSelection();
        updateCounter();
        updateFreebieUI();
      });

      // init
      updateCounter();
      updateFreebieUI();
      input.addEventListener('input', handleInput);
      setTimeout(handleInput, 120);
      setInterval(handleInput, 15000);
    })();
  </script>
</body>
</html>

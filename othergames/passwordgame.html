<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Password Game</title>
  <link rel="icon" type="image/png" href="../icon.png" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --bg:#0f1113;
      --panel:#151718;
      --muted:#bfc6c9;
      --accent:#00d7d7;
      --good:#0f6;
      --bad:#f55;
    }
    html,body{height:100%;margin:0;background:var(--bg);color:var(--muted);font-family:Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    header{display:flex;align-items:center;padding:12px 16px;background:#0c0d0e;border-bottom:1px solid rgba(255,255,255,0.03)}
    header img{height:34px;cursor:pointer}
    header h1{margin:0 auto;font-size:1.15rem;color:var(--accent);letter-spacing:0.6px}
    .wrap{max-width:820px;margin:36px auto;padding:20px;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border-radius:10px;box-shadow:0 6px 30px rgba(0,0,0,0.6)}
    .top-row{display:flex;gap:12px;align-items:center;margin-bottom:14px}
    #password{flex:1;padding:12px 14px;font-size:1.05rem;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:var(--panel);color:var(--muted);outline:none}
    #password::placeholder{color:rgba(191,198,201,0.45)}
    .status{min-width:170px;text-align:right;color:var(--muted);font-size:0.95rem}
    .progress{height:10px;background:rgba(255,255,255,0.03);border-radius:999px;margin-top:8px;overflow:hidden}
    .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#6ef3f3);width:0%}
    .rules{list-style:none;padding:0;margin:18px 0 0 0;display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
    .rules li{background:var(--panel);padding:10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.02);font-size:0.95rem;transition:transform .18s ease,opacity .18s ease}
    .rules li.hidden{display:none}
    .complete{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:22px;border-radius:10px;background:linear-gradient(180deg, rgba(0,128,128,0.06), rgba(0,128,128,0.02));color:var(--good);font-weight:600}
    .hint{font-size:0.86rem;color:rgba(191,198,201,0.7);margin-top:8px}
    @media (max-width:720px){.rules{grid-template-columns:1fr}.status{text-align:left}}
  </style>
</head>
<body>
  <header>
    <a href="../Launch-Deck"><img src="../icon.png" alt="Launch Deck"></a>
    <h1>Launch Deck</h1>
  </header>

  <main class="wrap" role="main">
    <div class="top-row">
      <input id="password" type="text" placeholder="Type your silly password here â€” rules will hide as you satisfy them" autocomplete="off" />
      <div class="status">
        <div id="counter">Rules remaining: <strong id="remaining">35</strong></div>
        <div class="progress" aria-hidden="true"><i id="bar"></i></div>
      </div>
    </div>

    <div id="content">
      <ul class="rules" id="rules">
        <li id="rule1">Rule 1: Password must be at least 5 characters.</li>
        <li id="rule2">Rule 2: Must include a number.</li>
        <li id="rule3">Rule 3: Must include an uppercase letter.</li>
        <li id="rule4">Rule 4: Must include a special character.</li>
        <li id="rule5">Rule 5: Digits must add up to 25.</li>
        <li id="rule6">Rule 6: Must include a month name.</li>
        <li id="rule7">Rule 7: Must include a Roman numeral.</li>
        <li id="rule8">Rule 8: Must include the current year.</li>
        <li id="rule9">Rule 9: Must include the current day of the week.</li>
        <li id="rule10">Rule 10: Must include the current time (HH:MM).</li>
        <li id="rule11">Rule 11: Must include a country name.</li>
        <li id="rule12">Rule 12: Must include an animal name.</li>
        <li id="rule13">Rule 13: Must include an emoji.</li>
        <li id="rule14">Rule 14: Must include a planet name.</li>
        <li id="rule15">Rule 15: Must include a prime number.</li>
        <li id="rule16">Rule 16: Must include a chess move (e.g., Nf3).</li>
        <li id="rule17">Rule 17: Must include a chemical element symbol.</li>
        <li id="rule18">Rule 18: Must include a Bible verse reference (e.g., John 3:16).</li>
        <li id="rule19">Rule 19: Must include a PokÃ©mon name.</li>
        <li id="rule20">Rule 20: Must include a US presidentâ€™s last name.</li>
        <li id="rule21">Rule 21: Must include a zodiac sign.</li>
        <li id="rule22">Rule 22: Must include a famous painting title.</li>
        <li id="rule23">Rule 23: Must include a Greek letter name.</li>
        <li id="rule24">Rule 24: Must include a constellation name.</li>
        <li id="rule25">Rule 25: Must include a math constant (Ï€, e, phi).</li>
        <li id="rule26">Rule 26: Must include a programming keyword (if, else, while, return, function, class).</li>
        <li id="rule27">Rule 27: Must include a musical note (A, B, C, D, E, F, G optionally #/b).</li>
        <li id="rule28">Rule 28: Must include a Shakespeare play title.</li>
        <li id="rule29">Rule 29: Must include a currency symbol ($ â‚¬ Â£ Â¥).</li>
        <li id="rule30">Rule 30: Must include a capital city.</li>
        <li id="rule31">Rule 31: Must include a fruit name.</li>
        <li id="rule32">Rule 32: Must include a dinosaur name.</li>
        <li id="rule33">Rule 33: Must include a famous scientistâ€™s last name.</li>
        <li id="rule34">Rule 34: Must include a Harry Potter spell.</li>
        <li id="rule35">Rule 35: Must include the trivia answer: <strong>42</strong>.</li>
      </ul>
    </div>
  </main>

  <script>
    (function(){
      const input = document.getElementById('password');
      const rulesList = document.getElementById('rules');
      const remainingEl = document.getElementById('remaining');
      const bar = document.getElementById('bar');

      // helper: format current time HH:MM with leading zeros
      function currentHHMM(){
        const d = new Date();
        const hh = String(d.getHours()).padStart(2,'0');
        const mm = String(d.getMinutes()).padStart(2,'0');
        return `${hh}:${mm}`;
      }
      function currentDayName(){
        return ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'][new Date().getDay()];
      }
      function currentYear(){
        return String(new Date().getFullYear());
      }

      // rule checks (kept intentionally simple and forgiving)
      const checks = {
        rule1: pwd => pwd.length >= 5,
        rule2: pwd => /\d/.test(pwd),
        rule3: pwd => /[A-Z]/.test(pwd),
        rule4: pwd => /[^A-Za-z0-9]/.test(pwd),
        rule5: pwd => {
          const digits = [...pwd].filter(c=>/\d/.test(c)).map(Number);
          if(digits.length===0) return false;
          return digits.reduce((a,b)=>a+b,0) === 25;
        },
        rule6: pwd => /(January|February|March|April|May|June|July|August|September|October|November|December)/i.test(pwd),
        rule7: pwd => /\b(I|II|III|IV|V|VI|VII|VIII|IX|X|XI|XII)\b/.test(pwd),
        rule8: pwd => new RegExp(currentYear()).test(pwd),
        rule9: pwd => new RegExp(currentDayName(),'i').test(pwd),
        rule10: pwd => new RegExp(currentHHMM()).test(pwd),
        rule11: pwd => /(United States|USA|Canada|France|Germany|China|Japan|Brazil|India|Australia)/i.test(pwd),
        rule12: pwd => /(dog|cat|lion|tiger|bear|wolf|fox|elephant|giraffe)/i.test(pwd),
        rule13: pwd => /[\u{1F300}-\u{1F6FF}]/u.test(pwd) || /[\u{1F900}-\u{1F9FF}]/u.test(pwd),
        rule14: pwd => /(Mercury|Venus|Earth|Mars|Jupiter|Saturn|Uranus|Neptune|Pluto)/i.test(pwd),
        rule15: pwd => /\b(2|3|5|7|11|13|17|19|23|29|31|37|41|43|47)\b/.test(pwd),
        rule16: pwd => /\b([KQRBN]?[a-h][1-8]|O-O|O-O-O)\b/.test(pwd),
        rule17: pwd => /\b(H|He|Li|Be|B|C|N|O|F|Ne|Na|Mg|Al|Si|P|S|Cl|Ar|K|Ca|Fe|Au|Ag)\b/.test(pwd),
        rule18: pwd => /\b([A-Za-z]+ \d+:\d+)\b/.test(pwd), // loose Bible ref pattern like "John 3:16"
        rule19: pwd => /(Pikachu|Charmander|Bulbasaur|Squirtle|Eevee|Mewtwo)/i.test(pwd),
        rule20: pwd => /(Washington|Lincoln|Jefferson|Roosevelt|Obama|Trump|Biden|Adams|Kennedy)/i.test(pwd),
        rule21: pwd => /(Aries|Taurus|Gemini|Cancer|Leo|Virgo|Libra|Scorpio|Sagittarius|Capricorn|Aquarius|Pisces)/i.test(pwd),
        rule22: pwd => /(Mona Lisa|Starry Night|The Scream|Guernica|Girl with a Pearl|Last Supper)/i.test(pwd),
        rule23: pwd => /\b(alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\b/i.test(pwd),
        rule24: pwd => /(Orion|Ursa Major|Cassiopeia|Lyra|Scorpius|Andromeda)/i.test(pwd),
        rule25: pwd => /(pi|Ï€|e|phi|Ï†|tau)\b/i.test(pwd),
        rule26: pwd => /\b(if|else|while|return|function|class|for|switch|const|let|var)\b/.test(pwd),
        rule27: pwd => /\b([A-G])(#|b)?\b/.test(pwd),
        rule28: pwd => /(Hamlet|Macbeth|Othello|King Lear|Romeo and Juliet|Julius Caesar)/i.test(pwd),
        rule29: pwd => /[\$\â‚¬\Â£\Â¥]/.test(pwd),
        rule30: pwd => /(Paris|London|Tokyo|Berlin|Rome|Ottawa|Beijing|Washington|Canberra)/i.test(pwd),
        rule31: pwd => /(apple|banana|orange|grape|pear|peach|mango|kiwi)/i.test(pwd),
        rule32: pwd => /(T-?Rex|Velociraptor|Triceratops|Stegosaurus|Brachiosaurus|Allosaurus)/i.test(pwd),
        rule33: pwd => /(Einstein|Newton|Curie|Darwin|Tesla|Feynman|Hawking)/i.test(pwd),
        rule34: pwd => /(Expelliarmus|Lumos|Avada Kedavra|Wingardium Leviosa|Expecto Patronum)/i.test(pwd),
        rule35: pwd => /\b42\b/.test(pwd) // trivia placeholder
      };

      // track state
      const ruleIds = Object.keys(checks);
      const state = {}; // 'visible' | 'hidden'
      const hideQueue = []; // queue of rule ids to hide one-by-one
      const hideDelay = 220; // ms between hiding rules
      let hideTimer = null;

      // initialize all visible
      ruleIds.forEach(id => state[id] = 'visible');

      function updateCounter(){
        const remaining = ruleIds.filter(id => state[id] === 'visible').length;
        remainingEl.textContent = remaining;
        const pct = Math.round(((ruleIds.length - remaining) / ruleIds.length) * 100);
        bar.style.width = pct + '%';
      }

      // process hide queue one at a time
      function processQueue(){
        if(hideTimer) return; // already running
        function step(){
          if(hideQueue.length === 0){
            hideTimer = null;
            checkComplete();
            return;
          }
          const id = hideQueue.shift();
          // only hide if still visible and still passes
          const li = document.getElementById(id);
          if(!li) { step(); return; }
          const pwd = input.value;
          if(checks[id](pwd) && state[id] === 'visible'){
            li.classList.add('hidden');
            state[id] = 'hidden';
            updateCounter();
          }
          // schedule next
          hideTimer = setTimeout(step, hideDelay);
        }
        // start first step immediately
        hideTimer = setTimeout(step, 0);
      }

      // if a rule was queued but later fails, remove from queue
      function removeFromQueue(id){
        const idx = hideQueue.indexOf(id);
        if(idx !== -1) hideQueue.splice(idx,1);
      }

      // show a rule immediately (when it becomes broken)
      function showRule(id){
        const li = document.getElementById(id);
        if(!li) return;
        if(state[id] === 'visible') return;
        // show it again
        li.classList.remove('hidden');
        state[id] = 'visible';
        updateCounter();
        // if it was queued to hide, remove it
        removeFromQueue(id);
      }

      // check for completion and show message
      function checkComplete(){
        const remaining = ruleIds.filter(id => state[id] === 'visible').length;
        if(remaining === 0){
          // replace rules list with complete message
          const content = document.getElementById('content');
          content.innerHTML = '<div class="complete">ðŸŽ‰ Game Complete! You satisfied all rules.<div class="hint">Nice work â€” that was chaotic.</div></div>';
        }
      }

      // main input handler: queue hides for newly satisfied rules, show for broken ones
      function handleInput(){
        const pwd = input.value;
        ruleIds.forEach(id => {
          try{
            const passes = !!checks[id](pwd);
            if(passes){
              // if visible and not already queued, queue it to hide
              if(state[id] === 'visible' && hideQueue.indexOf(id) === -1){
                hideQueue.push(id);
              }
            } else {
              // if currently hidden, show it again immediately
              if(state[id] === 'hidden'){
                showRule(id);
              }
              // also if queued to hide but now fails, remove from queue
              removeFromQueue(id);
            }
          }catch(e){
            // on any check error, ensure rule is visible
            if(state[id] === 'hidden') showRule(id);
            removeFromQueue(id);
          }
        });

        // If more than 5 rules are currently queued to hide, we still process them one-by-one.
        // The user asked for "hide one by one when done like when more than 5 it hide that rule".
        // We interpret that as: when multiple rules become satisfied at once, they should be hidden sequentially.
        // The queue above ensures that behavior. Start processing if needed.
        if(hideQueue.length > 0) processQueue();
      }

      // initial update
      updateCounter();

      // wire input
      input.addEventListener('input', handleInput);

      // also run once on load to catch dynamic rules like current time/day/year
      setTimeout(handleInput, 120);
      // update time-based rules every 30s so rule10/8/9 reflect changes while typing
      setInterval(() => {
        // re-evaluate time/day/year rules even if input unchanged
        handleInput();
      }, 30000);
    })();
  </script>
</body>
</html>
